//Sergeant Mark IV's bike.
//Special thanks to Doomero.
//If you want to modify and reuse this on your wad, please ask me first.


#include CRASHES

Actor Accelerate : Inventory
{
inventory.maxamount 1
}

Actor Backpedal : Inventory
{
inventory.maxamount 1
}

Actor TurnLeft : Inventory
{
inventory.maxamount 1
}

Actor TurnRight : Inventory
{
inventory.maxamount 1
}


Actor MaxLeft : Inventory
{
inventory.maxamount 1
}

Actor MaxRight : Inventory
{
inventory.maxamount 1
}

ACTOR BikeSpeed : Ammo
{
	Game Doom
	SpawnID 11
	Inventory.PickupMessage "$GOTCLIP"
	Inventory.Amount 0
	Inventory.MaxAmount 999
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 999
	Inventory.Icon "CLIPA0"
	States
	{
	Spawn:
		CLIP A -1
		Stop
	}
}









//===========================================================================
//
// Player
//
//===========================================================================
ACTOR Biker : PlayerPawn
{
	Speed 1
	Health 100
	Radius 16
	Height 56
	Mass 100
	PainChance 255
	Speed 0
	Player.DisplayName "Marine"
	Player.CrouchSprite "PLYC"
	Player.StartItem "BikeHUD"
	-PICKUP
	States
	{
	Pain.Kick:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("NOPAIN", 1)
	TNT1 A 0 A_TakeInventory("BikeSpeed", 300)
	TNT1 A 0 A_TakeInventory("Accelerate", 1)
	TNT1 A 0 A_PlaySOund("EBIKECLS", 3)
	TNT1 A 0 HealThing(1)
	TNT1 A 0 A_Recoil(5)
	BIKE A 12
	TNT1 A 0 A_ChangeFlag("NOPAIN", 0)
	TNT1 A 0 A_TakeInventory("Accelerate", 1)
	Goto Stay
	
	
	Pain.CrashLeft:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("NOPAIN", 1)
	TNT1 A 0 A_TakeInventory("BikeSpeed", 10)
	TNT1 A 0 A_PlaySOund("BIKECLW", 3)
	TNT1 A 0 HealThing(1)
	TNT1 A 0 A_Recoil(-3)
	BIKE AAA 1 A_SetAngle(-3 + angle)
	TNT1 A 0 A_ChangeFlag("NOPAIN", 0)
	Goto Stay
	
	Pain.CrashRight:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("NOPAIN", 1)
	TNT1 A 0 A_TakeInventory("BikeSpeed", 10)
	TNT1 A 0 A_PlaySOund("BIKECLW", 3)
	TNT1 A 0 HealThing(1)
	TNT1 A 0 A_Recoil(-3)
	BIKE AAA 1 A_SetAngle(3 + angle)
	TNT1 A 0 A_ChangeFlag("NOPAIN", 0)
	Goto Stay
	
	Spawn:
		BIKE A 1
		TNT1 A 0 SetPlayerProperty(1,1,4)
	Goto Stay
	Stay:
	    TNT1 A 0
		
		TNT1 A 0 A_JumpIfInventory("TurnLeft", 1, "TurnLeft")
		TNT1 A 0 A_JumpIfInventory("TurnRight", 1, "TurnRight")
		TNT1 A 0 A_JumpIfInventory("BackPedal", 1, "BackPedal")
		TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate")
		
		BIKE A 1
		TNT1 A 0 A_JumpIfInventory("TurnLeft", 1, "TurnLeft")
		TNT1 A 0 A_JumpIfInventory("TurnRight", 1, "TurnRight")
		TNT1 A 0 A_JumpIfInventory("BackPedal", 1, "BackPedal")
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
		TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate")
		BIKE A 1
		TNT1 A 0 A_TakeInventory("BikeSpeed", 2)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 140, "Accelerate8")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 120, "Accelerate7")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 100, "Accelerate6")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 80, "Accelerate5")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 60, "Accelerate4")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 40, "Accelerate3")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 20, "Accelerate2")
		TNT1 A 0 A_PlaySound("BIKE1", 2, 1, 1)
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
		Loop
	BackPedal:
	    TNT1 A 0
	    TNT1 A 0 A_JumpIfInventory("TurnLeft", 1, "TurnLeftBackPedal")
		TNT1 A 0 A_JumpIfInventory("TurnRight", 1, "TurnRightBackPedal")
	    BIKE A 1 A_Recoil(2)
		TNT1 A 0 A_JumpIfInventory("TurnLeft", 1, "TurnLeftBackPedal")
		TNT1 A 0 A_JumpIfInventory("TurnRight", 1, "TurnRightBackPedal")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, "Brake")
		TNT1 A 0 A_TakeInventory("BackPedal", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 9)
		TNT1 A 0 A_PlaySound("BIKE1", 2, 1, 1)
		TNT1 A 0 A_JumpIfInventory("TurnLeft", 1, "TurnLeftBackPedal")
		TNT1 A 0 A_JumpIfInventory("TurnRight", 1, "TurnRightBackPedal")
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, "BackPedal")
		Goto Stay	
		
	Brake:
	    BIKE A 2 A_Recoil(1)
		TNT1 A 0 A_TakeInventory("BackPedal", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 9)
		TNT1 A 0 A_PlaySound("BIKESK", 2, 1, 1)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		//aTNT1 A 0 A_PlaySound("BIKESK", 3)
		TNT1 A 0 A_JumpIfInventory("BackPedal", 0, "Stay")
		BIKE A 2
		TNT1 A 0 A_TakeInventory("BackPedal", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 9)
		TNT1 A 0 A_PlaySound("BIKESK", 2, 1, 1)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		//aTNT1 A 0 A_PlaySound("BIKESK", 3)
		TNT1 A 0 A_JumpIfInventory("BackPedal", 1, "Brake")
		Goto Stay		
	
	NoTurn:
	   TNT1 A 0
	   TNT1 A 0 A_TakeInventory("BikeSpeed", 100)
	   TNT1 A 0 A_JumpIfInventory("Backpedal", 1, "BackPedal")
	   BIKE A 1
	    TNT1 A 0 A_JumpIfInventory("Backpedal", 1, "BackPedal")
	    TNT1 A 0 A_TakeInventory("TurnLeft", 1)
	    TNT1 A 0 A_TakeInventory("TurnRight", 1)
	   Goto Stay
		
		
	TurnRight:
	    BIKE A 0 
		//TNT1 A 0 A_JumpIf(MomY == 0, "NoTurn")
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 0, "TurnRightNoAcceleration")
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, "TurnRightBackPedal")
		TNT1 A 0 A_jumpIfInventory("BikeSpeed", 62, "TurnRightHighSpeed")
		TNT1 A 0 A_jumpIfInventory("BikeSpeed", 89, "TurnRightMaxSpeed")
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 1)
		Goto Stay
	TurnLeft:
	    BIKE A 0 
		//TNT1 A 0 A_JumpIf(MomY == 0, "NoTurn")
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 0, "TurnLeftNoAcceleration")
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, "TurnLeftBackPedal")
		TNT1 A 0 A_jumpIfInventory("BikeSpeed", 62, "TurnLeftHighSpeed")
		TNT1 A 0 A_jumpIfInventory("BikeSpeed", 89, "TurnLeftMaxSpeed")
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
	    TNT1 AAA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
	    TNT1 AAA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 1)
		Goto Stay	
		
TurnRightNoAcceleration:
	    BIKE A 0 
		TNT1 A 0 A_TakeInventory("BikeSpeed", 8)
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, "TurnRightBackPedal")
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 8)
		Goto Stay
	TurnLeftNoAcceleration:
	    BIKE A 0 
		TNT1 A 0 A_TakeInventory("BikeSpeed", 8)
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, "TurnLeftBackPedal")
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
	    TNT1 AAA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
	    TNT1 AAA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 8)
		Goto Stay

		
  TurnRightHighSpeed:
	    BIKE A 0 
		
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, 2)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
		TNT1 A 0 A_PlaySound("BIKESK2", 3)
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 2)
		Goto Stay
	TurnLeftHighSpeed:
	    BIKE A 0
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, 2)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
		TNT1 A 0 A_PlaySound("BIKESK2", 3)
	    TNT1 AA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
	    TNT1 AA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 2)
		Goto Stay
		
		
	TurnRightMaxSpeed:
	    BIKE A 0 
		
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, 2)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
		TNT1 A 0 A_PlaySound("BIKESK2", 3)
	    TNT1 A 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
	    TNT1 A 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 2)
		Goto Stay
	TurnLeftMaxSpeed:
	    BIKE A 0
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
		TNT1 A 0 A_JumpIfInventory("Backpedal", 1, 2)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 1, 1)
		Goto NoTurn
		TNT1 A 0 A_PlaySound("BIKESK2", 3)
	    TNT1 A 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
	    TNT1 A 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_CustomMissile ("TireSmoke", 1, 0, random (0, 360), 2, random (30, 170))
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, -20, 2, 0)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 2)
		Goto Stay	
		
	Accelerate:
	    TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 140, "Accelerate8")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 120, "Accelerate7")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 100, "Accelerate6")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 80, "Accelerate5")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 60, "Accelerate4")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 40, "Accelerate3")
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 20, "Accelerate2")
		TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
		BIKE A 1 A_Recoil(-3)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1A", 2, 1, 1)
		TNT1 A 0 A_GiveInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate")
		Goto Stay	
		
	Accelerate2:
	    BIKE A 1 A_Recoil(-5)
		TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1B", 2, 1, 1)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 0, 2, 0)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 40, "Accelerate3")
		TNT1 A 0 A_GiveInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate2")
		Goto Stay	
	Accelerate3:
	    TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
	    BIKE A 1 A_Recoil(-6)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1C", 2, 1, 1)
		TNT1 A 0 A_CustomMissile ("HitSides", 30, 0, 0, 2, 0)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 60, "Accelerate4")
		TNT1 A 0 A_GiveInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate3")
		Goto Stay	
	Accelerate4:
	    TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
	    BIKE A 1 A_Recoil(-7)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1D", 2, 1, 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 80, "Accelerate4")
		TNT1 A 0 A_GiveInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate3")
		Goto Stay
	Accelerate5:
	    TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
	    BIKE A 1 A_Recoil(-8)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1E", 2, 1, 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 100, "Accelerate6")
		TNT1 A 0 A_GiveInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate5")
		Goto Stay	
	Accelerate6:
	    TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
	    BIKE A 1 A_Recoil(-9)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1F", 2, 1, 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 120, "Accelerate7")
		TNT1 A 0 A_GiveInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate6")
		Goto Stay
	Accelerate7:
	    TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
	    BIKE A 1 A_Recoil(-10)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1G", 2, 1, 1)
		TNT1 A 0 A_JumpIfInventory("BikeSpeed", 140, "Accelerate8")
		TNT1 A 0 A_GiveInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		//TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate7")
		Goto Stay	
	Accelerate8:
	    TNT1 A 0 A_CustomMissile ("HitLeft", 30, 0, 20, 2, 0)
		TNT1 A 0 A_CustomMissile ("HitRight", 30, 0, -20, 2, 0)
	    BIKE A 1 A_Recoil(-11)
		TNT1 A 0 A_CustomMissile ("HitFront", 30, 0, 0, 2, 0)
		TNT1 A 0 A_PlaySound("BIKE1G", 2, 1, 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 1)
		TNT1 A 0 A_TakeInventory("Accelerate", 1)
		TNT1 A 0 A_JumpIfInventory("Accelerate", 1, "Accelerate7")
		Goto Stay	
		
	
	
	TurnRightBackPedal:
	    BIKE A 0 
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
	    TNT1 AA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
	    TNT1 AAA 0 A_SetAngle(1 + angle)
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 1)
		Goto Stay
		
	TurnLeftBackPedal:
	    BIKE A 0 
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		
		BIKE A 1 
		TNT1 A 0 A_TakeInventory("TurnRight", 1)
	    TNT1 AA 0 A_SetAngle(-1 + angle)
		TNT1 A 0 A_TakeInventory("TurnLeft", 1)
		TNT1 A 0 A_TakeInventory("BikeSpeed", 1)
		Goto Stay	
		
	Pain:
		PLAY G 0
		PLAY G 1 A_Pain
		Goto Spawn
	Death:
		PLAY H 10
		PLAY I 10 A_PlayerScream
		PLAY J 10 A_NoBlocking
		PLAY KLM 10
		PLAY N -1
		Stop
	XDeath:
		PLAY O 5
		PLAY P 5 A_XScream
		PLAY Q 5 A_NoBlocking
		PLAY RSTUV 5
		PLAY W -1
		Stop
	}
}



ACTOR BikeHUD : DoomWeapon
{
	Game Doom
	Weapon.SelectionOrder 1900
	Weapon.AmmoUse 1
	Weapon.AmmoGive 20
	Weapon.AmmoType "BikeSpeed"
	Obituary "$OB_MPPISTOL"
	+WEAPON.WIMPY_WEAPON
	Inventory.Pickupmessage "$PICKUP_PISTOL_DROPPED"
	Tag "$TAG_PISTOL"
	States
	{
	Ready:
	    TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("MaxLeft",1, "MaxLeft")
		TNT1 A 0 A_JumpIfInventory("MaxRight",1, "MaxRight")
		TNT1 A 0 A_JumpIfInventory("TurnLeft",1, "TurnLeft")
		TNT1 A 0 A_JumpIfInventory("TurnRight",1, "TurnRight")
		BKHU A 1 A_WeaponReady
		Loop
	TurnLeft:
		BKHL AB 1
		TNT1 A 0 A_GiveInventory("MaxLeft", 1)
		Goto MaxLeft
	
	MaxLeft:
	    TNT1 A 0
		//TNT1 A 0 A_TakeInventory("MaxRight", 1)
		//TNT1 A 0 A_JumpIfInventory("TurnLeft", 0, "StopTurningLeft")
		BKHL C 1
		Goto Ready	
		
	StopTurningLeft:
		BKHL BA 1
		TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		Goto Ready	
	
	TurnRight:
		BKHR AB 1
		TNT1 A 0 A_GiveInventory("MaxRight", 1)
		Goto MaxRight
	
	MaxRight:
	    TNT1 A 0
		//TNT1 A 0 A_TakeInventory("MaxLeft", 1)
		//TNT1 A 0 A_JumpIfInventory("TurnRight", 0, "StopTurningRight")
		BKHR C 1
		Goto Ready
		
	StopTurningRight:
		BKHR BA 1
		TNT1 A 0 A_TakeInventory("MaxRight", 1)
		Goto Ready		
		
	StopTurning:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("MaxLeft", 1)
	TNT1 A 0 A_TakeInventory("MaxRight", 1)
	TNT1 A 0 A_TakeInventory("TurnLeft", 1)
	TNT1 A 0 A_TakeInventory("TurnRight", 1)
	Goto Ready
		
	Deselect:
		BKHU A 1 A_Lower
		Loop
	Select:
		BKHU A 1 A_Raise
		Loop
	FIre:
	TNT1 A 1
	Goto Ready
 	Spawn:
		PIST A -1
		Stop
	}
}
